"use strict";var noise=function(){var b,c,d,f,g=[],h=0,j,k=function(){for(var s=c.createImageData(d,f),t=new Uint32Array(s.data.buffer),u=t.length,v=0;v<u;v++)0.5>Math.random()&&(t[v]=4278190080);g.push(s)},l=function(){9===h?h=0:h++,c.putImageData(g[h],0,0)},m=function r(){l(h),j=window.setTimeout(function(){window.requestAnimationFrame(r)},40)},n=function(){d=window.innerWidth,f=window.innerHeight,b.width=d,b.height=f;for(var s=0;10>s;s++)k();m()},o,q=function(){b=document.getElementById("grain"),c=b.getContext("2d"),n()}()};noise(),window.addEventListener("mousemove",mouseMove);var mouse={x:.5*window.innerWidth,y:.5*window.innerHeight};function mouseMove(a){mouse.x=a.clientX||a.clientX,mouse.y=a.clientY||a.clientY,parallax()}var input={mouseX:{start:0,end:window.innerWidth}},setData=function(){input.mouseX.end=window.innerWidth,input.mouseX.range=input.mouseX.end-input.mouseX.start},setInput=function(){input.mouseX.fraction=(mouse.x-input.mouseX.start)/input.mouseX.range},output={x:{start:-1,end:1}};output.x.range=output.x.end-output.x.start;var setOutput=function(){output.x.current=output.x.end-input.mouseX.fraction*output.x.range},setItems=function(){document.querySelector(".error-lines").style.transform="translateX("+output.x.current+"%)"},parallax=function(){setData(),setInput(),setOutput(),setItems()};parallax();var movie=document.querySelector(".movie");movie.addEventListener("mouseover",function(){TweenMax.to(".movie video",1,{scale:1,ease:Power2.easeOut}),TweenMax.to(movie,1,{scale:1.05,ease:Power2.easeOut})}),movie.addEventListener("mouseout",function(){TweenMax.to(".movie video",.7,{scale:1.1,ease:Power2.easeOut}),TweenMax.to(movie,.7,{scale:1,ease:Power2.easeOut})});var vid=document.getElementById("header-video"),isPlay=document.querySelector(".is-play"),innerBar=document.querySelector(".bar .inner"),pauseIcon=document.getElementById("pause"),playIcon=document.getElementById("play");document.getElementById("player").addEventListener("click",playPause),movie.addEventListener("click",playPause);function playPause(){vid.paused?(vid.play(),isPlay.innerText="Pause",pauseIcon.style.display="inline-block",playIcon.style.display="none"):(vid.pause(),isPlay.innerText="Play",pauseIcon.style.display="none",playIcon.style.display="inline-block")}vid.addEventListener("timeupdate",function(){var a=vid.currentTime*(100/vid.duration);innerBar.style.width=a+"%"});var cursor=document.querySelector(".cursor");animateCursor(),document.querySelectorAll(".highlight").forEach(function(a){a.addEventListener("mouseover",function(){setSize(44)}),a.addEventListener("mouseout",function(){setSize()})}),document.addEventListener("mousedown",function(){toggleSize(!0)}),document.addEventListener("mouseup",function(){toggleSize()}),document.addEventListener("mouseenter",function(){toggleCursor(!0)}),document.addEventListener("mouseleave",function(){toggleCursor()});var x=0,y=0;function animateCursor(){x+=.4*(mouse.x-x),y+=.4*(mouse.y-y),cursor.style.left=x+"px",cursor.style.top=y+"px",requestAnimationFrame(animateCursor.bind(this))}function toggleSize(a){a?setSize(32):setSize()}function toggleCursor(a){a?(cursor.style.opacity=1,setSize()):(cursor.style.opacity=0,setSize("0"))}function setSize(a){cursor.style.width=(a?a:38)+"px",cursor.style.height=(a?a:38)+"px"}
